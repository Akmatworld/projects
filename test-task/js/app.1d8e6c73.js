(function(t){function e(e){for(var a,i,o=e[0],r=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&f.push(c[i][0]),c[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var r=n[o];0!==c[r]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},c={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"106b":function(t,e,n){"use strict";var a=n("1ad3"),c=n.n(a);c.a},1353:function(t,e,n){},"1ad3":function(t,e,n){},"3c18":function(t,e,n){},"4e6a":function(t,e,n){"use strict";var a=n("c8d5"),c=n.n(a);c.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Loading"),n("Header"),n("Pagination"),n("Posts"),n("Pagination")],1)},s=[],i=n("5530"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"posts"},t._l(t.posts,(function(t){return n("Post",{key:t.id,attrs:{obj:t}})})),1)},r=[],u=n("2f62"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card mb-3"},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[t._v(t._s(t.obj.title))]),n("p",{staticClass:"card-text"},[t._v(t._s(t.obj.body))]),n("p",{staticClass:"card-text"},[n("small",{staticClass:"text-muted"},[t._v("Имя пользователя: "+t._s(t.obj.username))])])])])},d=[],f={name:"Post",props:["obj"]},p=f,g=n("2877"),h=Object(g["a"])(p,l,d,!1,null,"67b78cf4",null),v=h.exports,m={name:"Posts",components:{Post:v},computed:Object(u["d"])(["posts","selectedSwitcher"])},b=m,P=Object(g["a"])(b,o,r,!1,null,"26892237",null),_=P.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row header"},[n("TotalCountPosts"),n("Switcher")],1)},w=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[t._v(" Всего постов: "+t._s(t.totalCntPosts)+" ")])},S=[],C={name:"Totalcountposts",computed:Object(u["d"])(["totalCntPosts"])},x=C,y=Object(g["a"])(x,O,S,!1,null,"8b66054e",null),A=y.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSwitcher,expression:"selectedSwitcher"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSwitcher=e.target.multiple?n:n[0]},t.selected]}},t._l(t.switcher,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0)])},k=[],N={name:"Switcher",computed:Object(i["a"])({selectedSwitcher:{get:function(){return this.$store.state.selectedSwitcher},set:function(t){this.changeSelectedSwitcher(t)}}},Object(u["d"])(["switcher","page"])),methods:Object(i["a"])(Object(i["a"])({selected:function(t){this.returnDefaultValue(),this.selectedSwitcher=t.target.value,this.updateSizePostsPerPage({selectedSwitcher:t.target.value})}},Object(u["b"])(["updateSizePostsPerPage"])),Object(u["c"])(["changeSelectedSwitcher","returnDefaultValue"]))},$=N,E=(n("4e6a"),Object(g["a"])($,L,k,!1,null,"98c01054",null)),F=E.exports,M={name:"Header",components:{TotalCountPosts:A,Switcher:F}},T=M,z=(n("a224"),Object(g["a"])(T,j,w,!1,null,"777805aa",null)),B=z.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("nav",{attrs:{"aria-label":"Page navigation example"}},[n("ul",{staticClass:"pagination"},[n("Button",{attrs:{status:t.isActivePrev,name:"Предыдущая"},on:{buttoclicked:t.getPrevPagePosts}}),n("li",{staticClass:"page-item"},[n("span",{staticClass:"page-link custom-hover-background"},[t._v(t._s(t.page))])]),n("Button",{attrs:{status:t.isActiveNext,name:"Следующая"},on:{buttoclicked:t.getNextPagePosts}})],1)])])},D=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"page-item",on:{click:t.onclick}},[n("a",{staticClass:"page-link my-custom-pointer",class:{disableLink:!t.status}},[t._v(t._s(t.name))]),t._v(" "+t._s(t.action)+" ")])},V=[],J={name:"Button",props:["status","name","action"],methods:{onclick:function(){this.status&&this.$emit("buttoclicked")}}},I=J,X=(n("ee18"),Object(g["a"])(I,H,V,!1,null,"21201945",null)),q=X.exports,G={name:"Pagination",components:{Button:q},computed:Object(i["a"])({},Object(u["d"])(["page","isActivePrev","isActiveNext"])),methods:Object(i["a"])(Object(i["a"])({getNextPagePosts:function(){this.getNextPage()},getPrevPagePosts:function(){this.getPrevPage()}},Object(u["b"])(["getNextPage","getPrevPage"])),Object(u["c"])(["incrementPage","decrementPage"]))},K=G,Q=(n("fd58"),Object(g["a"])(K,U,D,!1,null,"21b5775e",null)),R=Q.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading",class:{show:t.isLoading}},[n("span",[t._v("Загрузка...")])])},Y=[],Z={name:"Loading",computed:Object(u["d"])(["isLoading"])},tt=Z,et=(n("e807"),Object(g["a"])(tt,W,Y,!1,null,"147eca6a",null)),nt=et.exports,at={name:"App",components:{Posts:_,Header:B,Pagination:R,Loading:nt},computed:Object(u["d"])(["users"]),methods:Object(i["a"])({},Object(u["b"])(["init","getAllCountPosts"])),mounted:function(){this.init(),this.getAllCountPosts()}},ct=at,st=(n("106b"),Object(g["a"])(ct,c,s,!1,null,"0e06c14a",null)),it=st.exports;n("99af"),n("4160"),n("d3b7"),n("159b");function ot(t,e,n){var a=[];t.users.forEach((function(t){for(var n=0;n<e.length;n++)t.id===e[n].userId&&(e[n].username=t.username,a.push(e[n]))})),n("addPostFromApi",a)}a["a"].use(u["a"]);var rt="https://jsonplaceholder.typicode.com/",ut=new u["a"].Store({state:{totalCntPosts:0,switcher:[10,25,50],selectedSwitcher:10,page:1,posts:[],users:[],isActiveNext:!0,isActivePrev:!1,isLoading:!1},mutations:{addPostFromApi:function(t,e){t.posts=e},addUsersFromApi:function(t,e){t.users=e},changeSelectedSwitcher:function(t,e){t.selectedSwitcher=e},returnDefaultValue:function(t,e){t.page=1,t.isActiveNext=!0,t.isActivePrev=!1},addPostsCount:function(t,e){t.totalCntPosts=e},changeContentSize:function(t,e){var n=t.state;n.selectedSwitcher=e},incrementPage:function(t,e){t.page+=e;var n=Math.ceil(t.totalCntPosts/t.selectedSwitcher);n>=t.page&&(t.isActivePrev=!0),t.page===n&&(t.isActiveNext=!1)},decrementPage:function(t,e){t.page-=e;var n=Math.ceil(t.totalCntPosts/t.selectedSwitcher);1===t.page&&(t.isActivePrev=!1),t.page<n&&(t.isActiveNext=!0)},disableNextLink:function(t,e){t.isActiveNext=e},disablePrevLink:function(t,e){t.isActivePrev=e},activeLoading:function(t){t.isLoading=!0},disableLoading:function(t){t.isLoading=!1}},actions:{init:function(t){var e=t.dispatch,n=t.state,a=t.commit;a("activeLoading"),e("getFetchUsers").then((function(t){return t.json()})).then((function(t){return a("addUsersFromApi",t),e("getFetchPosts")})).then((function(t){return t.json()})).then((function(t){ot(n,t,a)})).finally((function(){a("disableLoading")}))},getFetchUsers:function(){return fetch("".concat(rt,"users"))},getFetchPosts:function(t){var e=t.state;return fetch("".concat(rt,"posts?_page=").concat(e.page,"&_limit=").concat(e.selectedSwitcher))},updateSizePostsPerPage:function(t){var e=t.state,n=t.commit;n("activeLoading"),fetch("".concat(rt,"posts?_page=").concat(e.page,"&_limit=").concat(e.selectedSwitcher)).then((function(t){return t.json()})).then((function(t){ot(e,t,n)})).finally((function(){n("disableLoading")}))},getNextPage:function(t){var e=t.state,n=t.commit;Math.ceil(e.totalCntPosts/e.selectedSwitcher)>e.page&&(n("activeLoading"),fetch("".concat(rt,"posts?_page=").concat(e.page,"&_limit=").concat(e.selectedSwitcher)).then((function(t){return t.json()})).then((function(t){t.length&&ot(e,t,n)})).finally((function(){n("disableLoading")})),n("incrementPage",1))},getPrevPage:function(t){var e=t.state,n=t.commit;e.page>1&&(n("activeLoading"),fetch("".concat(rt,"posts?_page=").concat(e.page,"&_limit=").concat(e.selectedSwitcher)).then((function(t){return t.json()})).then((function(t){t.length&&ot(e,t,n)})).finally((function(){n("disableLoading")})),n("decrementPage",1))},getAllCountPosts:function(t){t.state;var e=t.commit;fetch("".concat(rt,"posts?_start=0&_end=1")).then((function(t){e("addPostsCount",t.headers.get("X-Total-Count"))}))}},modules:{}});n("f9e3");a["a"].config.productionTip=!1,new a["a"]({store:ut,render:function(t){return t(it)}}).$mount("#app")},7711:function(t,e,n){},a224:function(t,e,n){"use strict";var a=n("3c18"),c=n.n(a);c.a},b6a3:function(t,e,n){},c8d5:function(t,e,n){},e807:function(t,e,n){"use strict";var a=n("1353"),c=n.n(a);c.a},ee18:function(t,e,n){"use strict";var a=n("7711"),c=n.n(a);c.a},fd58:function(t,e,n){"use strict";var a=n("b6a3"),c=n.n(a);c.a}});
//# sourceMappingURL=app.1d8e6c73.js.map